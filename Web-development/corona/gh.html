<!DOCTYPE html>
<html>
<head>
	<title>Crona Virus 2020</title>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1.0, user-scalable=yes" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
	<link rel="stylesheet" type="text/css" href="cssmain.css">
</head>
<body>
<div class="map">
			<div id="map">
				<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
				<script type="text/javascript">
					function initMap() {
						var map = new google.maps.Map(document.getElementById('map'),
						{
							center: new google.maps.LatLng(30.737812, 112.238403),
							zoom:5.5
						});

						var infoWindow = new google.maps.InfoWindow;
				
						// Change this depending on the name of your PHP or XML file
						downloadUrl('locmax.php', function(data) {
							var xml = data.responseXML;
							var markers = xml.documentElement.getElementsByTagName('marker');
							Array.prototype.forEach.call(markers, function(markerElem) {
							var ProvinceState = markerElem.getAttribute('ProvinceState');
							var Confirmed = markerElem.getAttribute('Confirmed');
							var point = new google.maps.LatLng(
								parseFloat(markerElem.getAttribute('lat')),
								parseFloat(markerElem.getAttribute('lng')));
				
							var infowincontent = document.createElement('div');
							var strong = document.createElement('strong');
							strong.textContent = ProvinceState;
							infowincontent.appendChild(strong);
							infowincontent.appendChild(document.createElement('br'));
				
							var text = document.createElement('text');
							text.textContent = Confirmed;
							infowincontent.appendChild(text);
							var icon = customLabel[ProvinceState] || {};
							
							var marker = new google.maps.Marker({
								map: map,
								position: point,
								icon: {
							path: google.maps.SymbolPath.CIRCLE,
							scale: Confirmed* 0.004,
							fillColor: '#f00',
							fillOpacity: 0.55,
							strokeWeight: 0
							},
				
								label: icon.label
							});
							
							marker.addListener('click', function() {
								infoWindow.setContent(infowincontent);
								infoWindow.open(map, marker);
							});
							});
						});
						downloadUrl('locvag.php', function(data) {
							var xml = data.responseXML;
							var markers = xml.documentElement.getElementsByTagName('marker');
							Array.prototype.forEach.call(markers, function(markerElem) {
							var ProvinceState = markerElem.getAttribute('ProvinceState');
							var Confirmed = markerElem.getAttribute('Confirmed');
							var point = new google.maps.LatLng(
								parseFloat(markerElem.getAttribute('lat')),
								parseFloat(markerElem.getAttribute('lng')));
				
							var infowincontent = document.createElement('div');
							var strong = document.createElement('strong');
							strong.textContent = ProvinceState;
							infowincontent.appendChild(strong);
							infowincontent.appendChild(document.createElement('br'));
				
							var text = document.createElement('text');
							text.textContent = Confirmed
							infowincontent.appendChild(text);
							var icon = customLabel[ProvinceState] || {};

							var marker = new google.maps.Marker({
								map: map,
								position: point,
								icon: {
							path: google.maps.SymbolPath.CIRCLE,
							scale: Confirmed* 0.06,
							fillColor: '#f00',
							fillOpacity: 0.55,
							strokeWeight: 0
							},
				
								label: icon.label
							});
							
							marker.addListener('click', function() {
								infoWindow.setContent(infowincontent);
								infoWindow.open(map, marker);
							});
							});
						});
						downloadUrl('locmin.php', function(data) {
							var xml = data.responseXML;
							var markers = xml.documentElement.getElementsByTagName('marker');
							Array.prototype.forEach.call(markers, function(markerElem) {
								var ProvinceState = markerElem.getAttribute('ProvinceState');
								var Confirmed = markerElem.getAttribute('Confirmed');
								var point = new google.maps.LatLng(
									parseFloat(markerElem.getAttribute('lat')),
									parseFloat(markerElem.getAttribute('lng')));
					
								var infowincontent = document.createElement('div');
								var strong = document.createElement('strong');
								strong.textContent = ProvinceState;
								infowincontent.appendChild(strong);
								infowincontent.appendChild(document.createElement('br'));
					
								var text = document.createElement('text');
								text.textContent = Confirmed
								infowincontent.appendChild(text);
								var icon = customLabel[ProvinceState] || {};

								var marker = new google.maps.Marker({
									map: map,
									position: point,
									icon: {
										path: google.maps.SymbolPath.CIRCLE,
										scale: Confirmed* 0.6,
										fillColor: '#f00',
										fillOpacity: 0.55,
										strokeWeight: 0
									},
									label: icon.label
								});
								
								marker.addListener('click', function() {
									infoWindow.setContent(infowincontent);
									infoWindow.open(map, marker);
								});
							});
						});
					}
				
					function downloadUrl(url, callback) {
						var request = window.ActiveXObject ?
							new ActiveXObject('Microsoft.XMLHTTP') :
							new XMLHttpRequest;
				
						request.onreadystatechange = function() 
						{
							if (request.readyState == 4)
							{
								request.onreadystatechange = doNothing;
								callback(request, request.status);
							}
						};
				
						request.open('GET', url, true);
						request.send(null);
					}
					var customLabel = {	
					};
					function doNothing() {}
				</script>
				<script async defer
				src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA0AuobOWfougXSIeUMHrqf9GYNz1l2Iw0&callback=initMap">
				</script>
			</div>	
        </div>
        
        </body>
</html>